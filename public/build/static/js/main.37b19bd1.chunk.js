(this.webpackJsonpmindgjm=this.webpackJsonpmindgjm||[]).push([[0],{116:function(e,t,a){},134:function(e,t,a){},143:function(e,t,a){},144:function(e,t,a){},157:function(e,t,a){"use strict";a.r(t);var n,s,r,c,l,i,o,u,d,b=a(4),j=a(1),m=a.n(j),x=a(40),g=a.n(x),p=(a(134),a(52)),O=a(13),h=a(7),f=a(177),v=a(170),y=a(181),w=a(180),N=a(179),_=a(124),S=a(121),k=a(24),q=a.n(k),z=a(37),C=a(12),Q=a(174),$=a(169),F=a(91),A=a(111),I=a(163),T=a(44),D=a(175),E=(Object(D.a)(n||(n=Object(T.a)(["\n  query getMe {\n    me {\n      _id\n      username\n      email\n      \n    }\n  }\n"]))),Object(D.a)(s||(s=Object(T.a)(["\n  query getQuiz($_id: ID!) {\n    getQuiz(_id: $_id) {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"])))),L=Object(D.a)(r||(r=Object(T.a)(["\n  query {\n    getAllQuizzes {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"]))),P=Object(D.a)(c||(c=Object(T.a)(["\n  query {\n    getUserQuizzes {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"]))),U=Object(D.a)(l||(l=Object(T.a)(["\n  mutation signUp(\n    $avatar: String!\n    $username: String!\n    $email: String!\n    $password: String!\n    $password2: String!\n  ) {\n    signUp(\n      avatar: $avatar\n      username: $username\n      email: $email\n      password: $password\n      password2: $password2\n    ) {\n      token\n      user {\n        _id\n        avatar\n        email\n        username\n      }\n    }\n  }\n"]))),M=Object(D.a)(i||(i=Object(T.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        avatar\n        username\n        email\n      }\n    }\n  }\n"]))),G=Object(D.a)(o||(o=Object(T.a)(["\n  mutation addQuiz(\n    $title: String!\n    $category: String!\n    $amount: String!\n    $type: String!\n    $difficulty: String!\n    $questions: [Question!]\n  ) {\n    addQuiz(\n      title: $title\n      category: $category\n      amount: $amount\n      type: $type\n      difficulty: $difficulty\n      questions: $questions\n    ) {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"]))),B=Object(D.a)(u||(u=Object(T.a)(["\n  mutation removeQuiz($id: ID!) {\n    removeQuiz(_id: $id) {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"]))),K=Object(D.a)(d||(d=Object(T.a)(["\n  mutation AddScoreToQuiz($id: ID!, $score: Score!) {\n    AddScoreToQuiz(_id: $id, score: $score) {\n      _id\n      title\n      author_id\n      author\n      created_at\n      category\n      type\n      difficulty\n      scores {\n        user_id\n        score\n      }\n      questions {\n        question\n        correct_answer\n        incorrect_answers\n      }\n    }\n  }\n"]))),H={avatarData:[{image:"../images/avatars/Avatar1.png"},{image:"../images/avatars/Avatar2.png"},{image:"../images/avatars/Avatar3.png"},{image:"../images/avatars/Avatar4.png"},{image:"../images/avatars/Avatar5.png"},{image:"../images/avatars/Avatar6.png"},{image:"../images/avatars/Avatar7.png"},{image:"../images/avatars/Avatar8.png"},{image:"../images/avatars/Avatar9.png"},{image:"../images/avatars/Avatar10.png"},{image:"../images/avatars/Avatar11.png"},{image:"../images/avatars/Avatar12.png"},{image:"../images/avatars/Avatar13.png"}]},R=a(19),J=a(20),V=a(108),Y=new(function(){function e(){Object(R.a)(this,e)}return Object(J.a)(e,[{key:"getProfile",value:function(){return Object(V.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(V.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),W=function(e,t,a){if(!t)return a("text-gray-400 m-2");switch(e){case"email":if(t)return a(/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)?"text-green-600 m-2":"text-red-600 m-2");break;case"password":case"password2":if(t)return t.length>=6?a("text-green-600 m-2"):a("text-red-600 m-2");break;case"username":if(t)return t.length>2?a("text-green-600 m-2"):a("text-red-600 m-2");break;default:return}return"username"===e&&t.length>2?a("text-green-600 m-2"):a("text-red-600 m-2")},Z=a(2),X=function(e){var t=e.signUpForm,a=Object(j.useState)({avatar:H.avatarData[0].image,username:"",email:"",password:"",password2:""}),n=Object(h.a)(a,2),s=n[0],r=n[1],c=Object(j.useState)("text-gray-400 m-2"),l=Object(h.a)(c,2),i=l[0],o=l[1],u=Object(j.useState)("text-gray-400 m-2"),d=Object(h.a)(u,2),m=d[0],x=d[1],g=Object(j.useState)("text-gray-400 m-2"),p=Object(h.a)(g,2),O=p[0],f=p[1],v=Object(j.useState)("text-gray-400 m-2"),y=Object(h.a)(v,2),w=y[0],N=y[1],_=Object(j.useState)(!1),S=Object(h.a)(_,1)[0],k=Object(j.useState)({Error:!1,Success:!1}),T=Object(h.a)(k,2),D=T[0],E=T[1],L=Object(j.useState)(""),P=Object(h.a)(L,2),G=P[0],B=P[1],K=Object(I.a)(U),R=Object(h.a)(K,2),J=R[0],V=R[1].data,X=Object(I.a)(M),ee=Object(h.a)(X,2),te=ee[0],ae=ee[1].data;Object(j.useEffect)((function(){if(t){if(!V)return;Y.login(V.signUp.token)}else{if(!ae)return;Y.login(ae.login.token)}}),[ae,t,V]);var ne=function(e){B(""),E(!1);var t=e.target,a=t.name,n=t.value;r(Object(b.a)(Object(b.a)({},s),{},Object(C.a)({},a,n))),"email"===a&&W(a,n,o),"username"===a&&W(a,n,N),"password"===a&&W(a,n,x),"password2"===a&&W(a,n,f)},se=function(){var e=Object(z.a)(q.a.mark((function e(a){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E(!1),a.preventDefault(),e.prev=2,!t){e.next=10;break}return s.password!==s.password2&&(E(!0),B("passwords should match!")),e.next=7,J({variables:Object(b.a)({},s)});case 7:B("You Signed up successfully."),e.next=13;break;case 10:return e.next=12,te({variables:{email:s.email,password:s.password}});case 12:B("You Loggedin successfully.");case 13:E({Error:!1,Success:!0}),r({avatar:H.avatarData[0].image,username:"",email:"",password:"",password2:""}),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(2),E({Error:!0,Success:!1}),B(e.t0.message),console.log(e.t0.message);case 22:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)(Q.a,{noValidate:!0,validated:S,onSubmit:se,children:[D.Error?Object(Z.jsx)($.a,{dismissible:!0,onClose:function(){return E(!1)},show:D,variant:"danger",children:G}):"",D.Success?Object(Z.jsx)($.a,{dismissible:!0,onClose:function(){return E(!1)},show:D,variant:"success",children:G}):"",t?Object(Z.jsxs)(Q.a.Group,{children:[Object(Z.jsx)(Q.a.Label,{htmlFor:"username",children:"Username"}),Object(Z.jsxs)("div",{className:"bg-gray-200 rounded-xl  w-100 p-2 flex items-center mb-3 ",children:[Object(Z.jsx)(F.b,{className:w}),Object(Z.jsx)("input",{type:"text",name:"username",placeholder:"User Name",className:"bg-gray-200 rounded-xl outline-none text-sm flex-1 p-2 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent",value:s.username,onChange:ne,required:!0})]})]}):"",Object(Z.jsxs)(Q.a.Group,{children:[Object(Z.jsx)(Q.a.Label,{htmlFor:"email",children:"Email"}),Object(Z.jsxs)("div",{className:"bg-gray-200 rounded-xl w-100 p-2 flex items-center mb-3 ",children:[Object(Z.jsx)(F.a,{className:i}),Object(Z.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"bg-gray-200 rounded-xl outline-none text-sm flex-1 p-2 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent",value:s.email,onChange:ne,required:!0})]})]}),Object(Z.jsxs)(Q.a.Group,{children:[Object(Z.jsx)(Q.a.Label,{htmlFor:"password",children:"Password"}),Object(Z.jsxs)("div",{className:"bg-gray-200  rounded-xl w-100 p-2 flex items-center ",children:[Object(Z.jsx)(A.a,{className:m}),Object(Z.jsx)("input",{type:"password",name:"password",placeholder:"Password",onChange:ne,value:s.password,required:!0,className:"bg-gray-200 rounded-xl outline-none text-sm flex-1 p-2 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent"})]})]}),t?Object(Z.jsxs)(Q.a.Group,{children:[Object(Z.jsx)(Q.a.Label,{htmlFor:"password2",children:"Repeat Password"}),Object(Z.jsxs)("div",{className:"bg-gray-200 rounded-xl  w-100 p-2 flex items-center ",children:[Object(Z.jsx)(A.a,{className:O}),Object(Z.jsx)("input",{type:"password",name:"password2",placeholder:"Repeat Password",onChange:ne,value:s.password2,required:!0,className:"bg-gray-200 rounded-xl outline-none text-sm flex-1 p-2 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:border-transparent"})]})]}):"",Object(Z.jsx)("button",{disabled:!(s.email&&s.password),type:"submit",variant:"success",className:"border-2 w-100  rounded-full text-center border-green-500 px-12 py-2 inline-block mt-4 font-semibold text hover:bg-green-500 hover:text-white text-decoration-none",children:"Submit"})]})})},ee=(a(116),a.p+"static/media/logo200.b4b00df4.png");function te(){window.location.replace("/")}var ae=function(){var e=Object(j.useState)(!1),t=Object(h.a)(e,2),a=t[0],n=t[1];return Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsx)(f.a,{expand:"lg",className:"bg-gradient-to-r from-purple-100 to-purple-900",children:Object(Z.jsxs)(v.a,{fluid:!0,className:"bg-gradient-to-r from-purple-100 to-purple-900",children:[Object(Z.jsxs)(f.a.Brand,{children:[" ",Object(Z.jsx)("img",{src:ee,className:"w-25",alt:"logo"})]}),Object(Z.jsx)(f.a.Toggle,{"aria-controls":"navbar"}),Object(Z.jsx)(f.a.Collapse,{id:"navbar",children:Object(Z.jsxs)(y.a,{className:"ml-auto",children:[Object(Z.jsxs)(p.c,{className:"ml-2 px-2 cursor-pointer text-xl  bg-green-800 py-1  rounded-lg text-green-100 no-underline hover:bg-green-100 hover:text-green-600",to:"/",onClick:te,children:[Object(Z.jsx)("i",{className:"fas fa-home text-blue-300"})," Home"]}),Y.loggedIn()?Object(Z.jsxs)(Z.Fragment,{children:[Y.loggedIn()?Object(Z.jsx)(p.c,{to:"/profile",className:"ml-2 px-2 cursor-pointer text-xl  bg-green-800 py-1  rounded-lg text-green-100 no-underline hover:bg-green-100 hover:text-green-600",children:"Profile"}):"",Object(Z.jsxs)("button",{className:"ml-2 px-2 cursor-pointer text-xl  bg-green-800 py-1  rounded-lg text-green-100 no-underline hover:bg-green-100 hover:text-green-600",onClick:Y.logout,children:[Object(Z.jsx)("i",{className:"fas fa-sign-out-alt text-red-200"})," Logout"]})]}):Object(Z.jsx)("button",{className:"ml-2 px-2 cursor-pointer text-xl  bg-green-800 py-1  rounded-lg text-green-100 no-underline hover:bg-green-100 hover:text-green-600",onClick:function(){return n(!0)},children:"Login/Sign Up"})]})})]})}),Object(Z.jsxs)(w.a,{size:"md",show:a,onHide:function(){return n(!1)},"aria-labelledby":"signup-modal",children:[Object(Z.jsx)("img",{src:ee,href:"/",className:"w-25 my-2 mx-auto",alt:"logo"}),Object(Z.jsxs)(N.a.Container,{defaultActiveKey:"login",children:[Object(Z.jsx)(w.a.Header,{closeButton:!0,children:Object(Z.jsx)(w.a.Title,{id:"signup-modal",children:Object(Z.jsxs)(y.a,{variant:"tabs",children:[Object(Z.jsx)(y.a.Item,{children:Object(Z.jsx)(y.a.Link,{className:"btn ",eventKey:"login",children:"Login"})}),Object(Z.jsx)(y.a.Item,{children:Object(Z.jsx)(y.a.Link,{className:"btn",eventKey:"signup",children:"Sign Up"})})]})})}),Object(Z.jsx)(w.a.Body,{className:"bg-gray-100 m-3 shadow-md rounded-xl",children:Object(Z.jsxs)(N.a.Content,{children:[Object(Z.jsx)(N.a.Pane,{eventKey:"login",children:Object(Z.jsx)(X,{signUpForm:!1,handleModalClose:function(){return n(!1)}})}),Object(Z.jsx)(N.a.Pane,{eventKey:"signup",children:Object(Z.jsx)(X,{signUpForm:!0,handleModalClose:function(){return n(!1)}})})]})})]})]}),Y.loggedIn()?Object(Z.jsxs)("h4",{className:"px-3 bg-gradient-to-r from-purple-900 to-purple-100 text-center p-2 ",children:[Object(Z.jsx)(S.a,{icon:_.a,className:"text-danger ml-4"})," ",Object(Z.jsx)("span",{className:"text-white p-2",children:Y.getProfile().data.username})," "]}):""]})},ne=(a(143),a(23)),se=a.p+"static/media/logo.23dac1f9.png",re=new Date,ce="",le=function(e){var t=e.quizData,a=e.noOfQuestions,n=e.userName,s=e.toDelet,r=e.setUserQuizes;ce=n;var c=Object(I.a)(B),l=Object(h.a)(c,1)[0],i=function(){var e=Object(z.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({variables:{id:t}});case 2:return a=e.sent,n=a.data.removeQuiz,e.abrupt("return",r(Object(ne.a)(n)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t.created_at&&(re=t.created_at),t.username&&(ce=t.username),Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsxs)("div",{className:"max-w-sm rounded-xl  overflow-hidden bg-gray-800 text-red-200 opacity-90 m-3 shadow-md ",children:[Object(Z.jsxs)("div",{className:"flex justify-between ",children:[Object(Z.jsx)("img",{className:"w-25 bg-gray-900  rounded-xl m-2 p-2",src:se,alt:"inquizer logo"}),Object(Z.jsxs)("div",{className:"p-2 m-2",children:[Object(Z.jsx)("i",{className:"fas fa-user-edit ",children:" "})," ",Object(Z.jsx)("span",{className:"text-blue-400",children:ce}),Object(Z.jsxs)("div",{className:"mt-2",children:[Object(Z.jsx)("i",{className:"far fa-calendar-check ",children:" "})," ",Object(Z.jsx)("span",{className:"text-green-400",children:re})]})]})]}),Object(Z.jsxs)("div",{className:"px-6 py-4",children:[Object(Z.jsxs)("div",{className:"font-bold text-yellow-200 text-xl mb-2",children:[Object(Z.jsx)("i",{className:"fas fa-angle-double-right text-green-500",children:" "})," Title:"," ",t.title]}),Object(Z.jsxs)("div",{className:" text-yellow-200 text-xl mb-2",children:[Object(Z.jsx)("i",{className:"fas fa-chart-pie text-green-500",children:" "})," Difficulty:"," ",t.difficulty]}),Object(Z.jsxs)("div",{className:" text-yellow-200 text-xl mb-2",children:[Object(Z.jsx)("i",{className:"fas fa-list-ul text-green-500",children:" "})," No. of Questions:"," ",a]}),Object(Z.jsxs)("div",{className:" text-yellow-200 text-xl mb-2",children:[Object(Z.jsx)("i",{className:"fas fa-layer-group text-green-500",children:" "})," Category:"," ",t.category]}),Object(Z.jsxs)("div",{className:"text-yellow-200 text-xl mb-2",children:[Object(Z.jsx)("i",{className:"fas fa-check text-green-500",children:" "})," Quiz Type:"," ",t.type]}),Object(Z.jsxs)("div",{className:"flex flex-1 bg-gray-700 rounded-xl  mt-5",children:[Y.loggedIn()?Object(Z.jsxs)(p.b,{to:"quiz/".concat(t._id),className:"cursor-pointer no-underline text-center hover:bg-green-900 hover:text-green-100 focus:outline-none focus:ring-2  rounded-xl bg-green-500 w-100 text-gray-800 m-3 p-2",children:[Object(Z.jsx)("i",{className:"fas fa-play-circle "})," Start the Quiz"]}):Object(Z.jsxs)("button",{className:" disabled:opacity-50  rounded-xl bg-red-500 w-100 text-red-100 m-3 p-2 cursor-help",disabled:!0,children:[Object(Z.jsx)("i",{className:"fas fa-play-circle "})," Login and Start the Quiz"]}),s?Object(Z.jsx)("button",{onClick:function(){i(t._id)},className:" focus:outline-none hover:bg-red-600 rounded-r-xl bg-green-100 text-gray-800 ",children:Object(Z.jsx)("i",{className:"fas fa-trash-alt text-red-500 p-3  hover:text-green-100"})}):""]})]})]})})},ie=a(171),oe=function(){var e=Object(ie.a)(L),t=e.loading,a=e.data,n=Object(j.useState)([]),s=Object(h.a)(n,2),r=s[0],c=s[1];return Object(j.useEffect)((function(){t||c(a.getAllQuizzes)}),[t,a]),Object(Z.jsxs)(Z.Fragment,{children:[Object(Z.jsxs)("div",{className:"jumbotron",children:[Object(Z.jsx)("h1",{className:"display-4 text-center mt-3",children:"Welcome to"}),Object(Z.jsxs)("h2",{className:"display-4 text-center mb-3",children:["in",Object(Z.jsx)("span",{className:"text-red-700 font-bold",children:"Q"}),"uizitive"]})]}),Object(Z.jsx)("div",{className:"flex flex-wrap justify-center bg-gray-100 m-3 p-3 rounded-xl shadow-md",children:t?Object(Z.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(Z.jsx)("span",{className:"sr-only",children:"Loading..."})},"loading"):r.map((function(e){return Object(Z.jsx)(le,{quizData:e,noOfQuestions:(null===e||void 0===e?void 0:e.questions.length)+1,toDelet:!1,userName:e.author},e._id)}))})]})},ue=function(e){var t=e.userQuizes,a=e.userName,n=e.setUserQuizes;return Object(Z.jsx)(Z.Fragment,{children:Object(Z.jsx)("div",{className:"flex flex-wrap justify-center bg-gray-100 m-3 p-3 rounded-xl shadow-md",children:t.map((function(e){return Object(Z.jsx)(le,{quizData:e,noOfQuestions:e.questions.length+1,userName:a,toDelet:!0,setUserQuizes:n},e._id)}))})})},de=[{value:9,label:"General Knowledge"},{value:10,label:"Entertainment: Books"},{value:11,label:"Entertainment: Film"},{value:12,label:"Entertainment: Music"},{value:13,label:"Entertainment: Musicals & Theatres"},{value:14,label:"Entertainment: Television"},{value:15,label:"Entertainment: Video Games"},{value:16,label:"Entertainment: Board Games"},{value:17,label:"Science & Nature"},{value:18,label:"Science: Computers"},{value:19,label:"Science: Mathematics"},{value:20,label:"Mythology"},{value:21,label:"Sports"},{value:22,label:"Geography"},{value:23,label:"History"},{value:24,label:"Politics"},{value:25,label:"Art"},{value:26,label:"Celebrities"},{value:27,label:"Animals"},{value:28,label:"Vehicles"},{value:29,label:"Entertainment: Comics"},{value:30,label:"Science: Gadgets"},{value:31,label:"Entertainment: Japanese Anime & Manga"},{value:32,label:"Entertainment: Cartoon & Animations"}],be=[{value:"multiple",label:"Multiple Choice"},{value:"boolean",label:"True / False"}],je=[{value:"easy",label:"Easy"},{value:"medium",label:"Medium"},{value:"hard",label:"Hard"}],me=function(){var e=Object(z.a)(q.a.mark((function e(t){var a,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://opentdb.com/api.php?amount=".concat(t.amount,"&category=").concat(t.category.value,"&difficulty=").concat(t.difficulty,"&type=").concat(t.type));case 2:return a=e.sent,console.log("https://opentdb.com/api.php?amount=".concat(t.amount,"&category=").concat(t.category.value,"&difficulty=").concat(t.difficulty,"&type=").concat(t.type)),e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=[1,2,3,4,5,6,7,8,9,10];var ge=function(e){var t=e.quizData,a=Y.getProfile().data.username,n=Object(j.useState)(!1),s=Object(h.a)(n,2),r=s[0],c=s[1],l=Object(j.useState)({Fail:!1,Success:!1}),i=Object(h.a)(l,2),o=i[0],u=i[1],d=Object(j.useState)(""),m=Object(h.a)(d,2),x=m[0],g=m[1],p=Object(I.a)(G),O=Object(h.a)(p,1)[0],f=Object(j.useState)(Object(ne.a)(t)),v=Object(h.a)(f,2),y=v[0],w=v[1],N=Object(j.useState)({title:"",amount:xe[0],category:{label:de[0].label,value:de[0].value},type:be[0].value,difficulty:je[0].value}),_=Object(h.a)(N,2),S=_[0],k=_[1],Q=function(e){var t=e.target,a=t.name,n=t.value;if("category"===a)k(Object(b.a)(Object(b.a)({},S),{},Object(C.a)({},a,{value:e.target.value.split(",")[0],label:e.target.value.split(",")[1]})));else if("type"===a){var s;"boolean"===n&&(s="True/False type"),"multiple"===n&&(s="Mutiple choice type"),k(Object(b.a)(Object(b.a)({},S),{},Object(C.a)({},a,s)))}else k(Object(b.a)(Object(b.a)({},S),{},Object(C.a)({},a,n)))},F=function(){var e=Object(z.a)(q.a.mark((function e(t){var a,n,s,r,l;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.stopPropagation(),e.prev=2,e.next=5,me(S);case 5:return a=e.sent,n=a.results,(s={}).title=S.title,s.amount=S.amount.toString(),s.category=S.category.label,s.type=S.type,s.difficulty=S.difficulty,s.questions=[],s.questions=n.map((function(e){return{question:e.question,correct_answer:e.correct_answer,incorrect_answers:e.incorrect_answers}})),e.next=17,O({variables:s});case 17:r=e.sent,l=r.data,w(Object(ne.a)(null===l||void 0===l?void 0:l.addQuiz)),c(!0),u({Fail:!1,Success:!0}),g("Your Quizz added successfully."),k({title:"",amount:xe[0],category:{label:de[0].label,value:de[0].value},type:be[0].value,difficulty:je[0].value}),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(2),g(e.t0.message),c(!0),u({Fail:!0,Success:!1});case 31:case"end":return e.stop()}}),e,null,[[2,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(Z.jsxs)("div",{className:" grid grid-cols-1 lg:grid-cols-3 gap-2",children:[Object(Z.jsx)("div",{className:"w-100 bg-purple-100 rounded-xl ",children:Object(Z.jsxs)("form",{onSubmit:F,children:[o.Fail?Object(Z.jsx)($.a,{dismissible:!0,onClose:function(){return c(!1)},show:r,variant:"danger",children:x}):"",o.Success?Object(Z.jsx)($.a,{dismissible:!0,onClose:function(){return c(!1)},show:r,variant:"success",children:x}):"",Object(Z.jsx)("h1",{className:"text-green-800 m-5 text-center",children:"Add a New Quiz"}),Object(Z.jsxs)("div",{className:"container w-full",children:[Object(Z.jsxs)("label",{className:"block text-left m-2",htmlFor:"amount",children:[Object(Z.jsx)("span",{className:"text-gray-700",children:"Quiz Title: "}),Object(Z.jsx)("input",{type:"text",name:"title",placeholder:"Place the Quiz title here",className:"bg-gray-100 my-2 text-green-600 font-bold shadow-md rounded  py-2 px-2  flex-1 ",value:S.title,onChange:Q,required:!0})]}),Object(Z.jsxs)("label",{className:"block text-left m-2",htmlFor:"amount",children:[Object(Z.jsx)("span",{className:"text-gray-700",children:"Amount of questions: "}),Object(Z.jsx)("select",{className:"form-select block w-full mt-1",value:S.amount,name:"amount",onChange:Q,children:xe.map((function(e){return Object(Z.jsx)("option",{value:e,children:e},e)}))})]}),Object(Z.jsxs)("label",{className:"block text-left m-2",htmlFor:"category",children:[Object(Z.jsx)("span",{className:"text-gray-700",children:"Select category:"}),Object(Z.jsx)("select",{className:"form-select block w-full mt-1",value:S.category.value+","+S.category.label,name:"category",onChange:Q,children:de.map((function(e){var t=e.value,a=e.label;return Object(Z.jsx)("option",{value:t+","+a,children:a},a)}))})]}),Object(Z.jsxs)("label",{className:"block text-left m-2",htmlFor:"difficulty",children:[Object(Z.jsx)("span",{className:"text-gray-700",children:"Difficulty:"}),Object(Z.jsx)("select",{className:"form-select block w-full mt-1",value:S.difficulty.label,name:"difficulty",onChange:Q,children:je.map((function(e){var t=e.value,a=e.label;return Object(Z.jsx)("option",{value:t,children:a},a)}))})]}),Object(Z.jsxs)("label",{className:"block text-left m-2",htmlFor:"type",children:[Object(Z.jsx)("span",{className:"text-gray-700",children:"Type of question:"}),Object(Z.jsx)("select",{className:"form-select block w-full mt-1",value:S.type.label,name:"type",onChange:Q,children:be.map((function(e){var t=e.value,a=e.label;return Object(Z.jsx)("option",{value:t,children:a},a)}))})]}),Object(Z.jsx)("button",{disabled:!S.title,type:"submit",variant:"success",className:"border-2 w-100 shadow-md rounded-full  border-green-500 px-12 py-2 inline-block mt-2 font-semibold text hover:bg-green-500 hover:text-white text-decoration-none",children:"Submit"})]})]})}),Object(Z.jsx)("div",{className:"col-span-2  shadow-md bg-gray-600 rounded-xl",children:y?Object(Z.jsx)(ue,{setUserQuizes:w,userQuizes:y,userName:a}):Object(Z.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(Z.jsx)("span",{className:"sr-only",children:"Loading..."})},"loading")})]})},pe=function(){var e=Object(ie.a)(P),t=e.loading,a=e.data;return Object(Z.jsx)(Z.Fragment,{children:t?Object(Z.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(Z.jsx)("span",{className:"sr-only",children:"Loading..."})},"loading"):Object(Z.jsx)("div",{children:Object(Z.jsx)(ge,{quizData:a.getUserQuizzes})})})},Oe=a(183),he=a(184),fe=function(e){var t=e.correctAnswers,a=e.quizLength,n=e.Result;e.quiz_id,e.user_id,e.user_name;return Object(Z.jsxs)("div",{className:"container bg-purple-100 rounded-xl shadow-md p-3",children:[Object(Z.jsx)("h1",{className:"text-center m-3  ",children:" Quiz Result"}),Object(Z.jsx)("hr",{}),Object(Z.jsxs)("h2",{className:" p-1  ",children:[Object(Z.jsx)("i",{className:"fas fa-check-square text-green-500"})," ",Object(Z.jsxs)("span",{className:"text-purple-900 ",children:[t," "]}),"OUT OF ",Object(Z.jsxs)("span",{className:"text-purple-900 text-3xl",children:[a," "]})]}),Object(Z.jsxs)("h2",{children:[" your Score: ",n," "]}),Object(Z.jsx)("hr",{})]})},ve=(a(144),a(102)),ye=function(e){var t=e.quizData,a=e.quizId,n=Y.getProfile().data._id,s=Y.getProfile().data.username,r=Object(I.a)(K),c=Object(h.a)(r,2),l=c[0],i=(c[1].data,t.category),o=t.type,u=t.difficulty,d=(t.questions||[]).map((function(e){var t=e.correct_answer,a=e.incorrect_answers,n=e.question;return{category:i,type:o,difficulty:u,correct_answer:t,incorrect_answers:a,question:n}})),b=Object(j.useState)(0),m=Object(h.a)(b,2),x=m[0],g=m[1],p=Object(j.useState)(0),O=Object(h.a)(p,2),f=O[0],v=O[1],y=Object(j.useState)(0),w=Object(h.a)(y,2),N=w[0],_=w[1],S=Object(j.useState)(10*d.length),k=Object(h.a)(S,2),C=k[0],Q=k[1],$=Object(j.useState)([]),F=Object(h.a)($,2),A=(F[0],F[1],Object(j.useState)(!1)),T=Object(h.a)(A,2),D=T[0],E=T[1],L=Object(j.useState)(0),P=Object(h.a)(L,2),U=P[0],M=P[1];var G=[],B=Object(ne.a)(d[x].incorrect_answers),H=d[x].correct_answer,R=[].concat(Object(ne.a)(B),[H]);G=R,Object(j.useEffect)((function(){var e;e=R,G=Array(e.length).fill(null).map((function(e,t){return[Math.random(),t]})).sort((function(e,t){return Object(h.a)(e,1)[0]-Object(h.a)(t,1)[0]})).map((function(t){var a=Object(h.a)(t,2)[1];return e[a]}))}),[x,G]);var J=setTimeout((function(){C<=0?(clearTimeout(J),E(!0)):Q(C-1)}),[1e3]),V=function(e){v(e.target.id)},W=function(){var e=Object(z.a)(q.a.mark((function e(t){var s,r,c,i,o,u;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v(0),0===f){e.next=19;break}if(s=parseInt(f.replace(/[^0-9]/g,"")),G[s]===d[x].correct_answer&&_(N+1),!(x<d.length-1)){e.next=8;break}g(x+1),e.next=19;break;case 8:return r=d.length,c=N/r*(J/r)*10,M(Math.round(c)),i=U.toString(),console.log(i),o={score:i,user_id:n},e.next=16,l({variables:{id:a,score:o}});case 16:u=e.sent,console.log(u),E(!0);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return D?Object(Z.jsx)(fe,{correctAnswers:N,quizLength:d.length,Result:U,quiz_id:a,user_id:n,user_name:s}):Object(Z.jsxs)("div",{className:"container shadow-xl my-4 mx-auto border-2 p-4 bg-gray-100  rounded-xl",children:[Object(Z.jsx)("img",{className:"w-20 mx-auto rounded-xl m-2",src:se,alt:"inquizer logo"})," ",Object(Z.jsxs)("h1",{children:[Object(Z.jsx)("span",{children:Object(Z.jsx)("i",{className:"fas fa-check-double text-green-700"})})," ","Correct answers:"," ",Object(Z.jsx)("span",{className:"text-green-600 font-mono font-bold",children:N})]}),Object(Z.jsx)("hr",{}),Object(Z.jsxs)("h3",{children:[" ",Object(Z.jsx)("span",{children:Object(Z.jsx)("i",{className:"fas fa-hourglass-half text-red-700"})})," ","Time left",Object(Z.jsx)("div",{children:Object(Z.jsx)(Oe.a,{id:"bar",striped:!0,animated:!0,max:10*d.length,now:C,label:"".concat(C," sec"),variant:"danger"})})]}),Object(Z.jsx)("hr",{}),Object(Z.jsxs)("h2",{children:[" ",Object(Z.jsx)("i",{className:"fas fa-question-circle text-blue-900"})," Question"]}),Object(Z.jsxs)("p",{className:"text-blue-600 font-bold text-2xl m-2 p-2 h-20",children:[" ",Object(ve.a)(d[x].question)]}),Object(Z.jsx)("br",{}),Object(Z.jsx)(he.a,{as:"ul",className:" text-2xl",children:G.map((function(e,t){return"answer-".concat(t)===f?Object(Z.jsxs)(he.a.Item,{className:"list-group-item-primary rounded-b-2xl",action:!0,onClick:V,active:!0,id:"answer-".concat(t),children:[Object(Z.jsx)("i",{className:"fas fa-angle-double-right text-yellow-400"})," ",Object(ve.a)(e)]},t):Object(Z.jsx)(he.a.Item,{className:"list-group-item-light",action:!0,onClick:V,id:"answer-".concat(t),children:Object(ve.a)(e)},t)}))}),Object(Z.jsx)("br",{}),Object(Z.jsx)("hr",{}),Object(Z.jsx)("div",{className:"d-grid gap-2",children:Object(Z.jsxs)("button",{className:"bg-green-900 text-green-100 rounded-full text-2xl py-2",onClick:W,children:[Object(Z.jsx)("i",{className:"fas fa-forward  text-yellow-200"})," ",Object(Z.jsx)("span",{className:"font-bold text-white",children:" Submit"})]})}),Object(Z.jsx)("br",{}),Object(Z.jsx)(Oe.a,{now:100*x/d.length})]})},we=function(){var e=Object(O.g)().quizId,t=Object(ie.a)(E,{variables:{_id:e}}),a=t.loading,n=t.data;return Object(Z.jsx)("div",{children:a?Object(Z.jsx)("div",{className:"spinner-border text-success",role:"status",children:Object(Z.jsx)("span",{className:"sr-only",children:"Loading..."})}):Object(Z.jsx)(ye,{quizData:n.getQuiz,quizId:e})})};var Ne=function(){return Object(Z.jsxs)(p.a,{children:[Object(Z.jsx)(ae,{}),Object(Z.jsxs)(O.c,{children:[Object(Z.jsx)(O.a,{exact:!0,path:"/",element:Object(Z.jsx)(oe,{})}),Object(Z.jsx)(O.a,{exact:!0,path:"/profile",element:Y.loggedIn()?Object(Z.jsx)(pe,{}):Object(Z.jsx)(oe,{})}),Object(Z.jsx)(O.a,{exact:!0,path:"/quiz/:quizId",element:Object(Z.jsx)(we,{})}),Object(Z.jsx)(O.a,{exact:!0,path:"/profile/quiz/:quizId",element:Object(Z.jsx)(we,{})}),Object(Z.jsx)(O.a,{render:function(){return Object(Z.jsx)("h1",{className:"display-2",children:"Wrong page!"})}})]})]})},_e=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,185)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),r(e),c(e)}))},Se=(a(156),a(176)),ke=a(96),qe=a(158),ze=a(178),Ce=a(172),Qe=a(173),$e=new Se.a({uri:"/graphql"}),Fe=new ke.a((function(e,t){return e.setContext((function(e){var t=e.headers,a=void 0===t?{}:t;return{headers:Object(b.a)(Object(b.a)({},a),{},{authorization:Y.loggedIn()?Y.getToken():null})}})),t(e)})),Ae=new qe.a({cache:new ze.a,link:Object(Ce.a)(Fe,$e)});g.a.render(Object(Z.jsx)(m.a.StrictMode,{children:Object(Z.jsx)(Qe.a,{client:Ae,children:Object(Z.jsx)(Ne,{})})}),document.getElementById("root")),_e()}},[[157,1,2]]]);
//# sourceMappingURL=main.37b19bd1.chunk.js.map